<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" >
<meta name="viewport" content="width=device-width, initial-scale=1" >
<title>Poke-Pare - Your Pokémon Data Companion</title>
<link rel="stylesheet" href="styleindex2.css" >
</head>
<body>
<header>
  <h1>Poke-Pare</h1>
  <p>Your Pokémon Data Companion</p>
  <button id="profileBtn" class="profile-button" aria-label="Go to account page" title="Your Profile" type="button"></button>
</header>

<main>
  <section class="intro">
    <p>
      Welcome! Poke-Pare is a powerful tool that helps you compare Pokémon stats, and test your knowledge with interactive quizzes. Dive into detailed data visualizations and explore the rich world of Pokémon with ease.
    </p>
    <p>You will not need an account to explore all of these wonderful features but if you would like to save your scores it would be recommended!!!</p>
  </section>

  <section class="features-grid">
    <article class="feature-card">
      <h3 id="compare-title">Compare Pokémon</h3>
      <p>Search and compare stats for two Pokémon side by side.</p>
      <button type="button" onclick="location.href='compare.html'">Start Comparing</button>
    </article>

    <article class="feature-card">
      <h3 id="quizzes-title">Quizzes</h3>
      <p>Test your Pokémon knowledge with fun quizzes.</p>
      <button type="button" onclick="location.href='quiz.html'">Take a Quiz</button>
    </article>

    <article class="feature-card">
      <h3 id="account-title">Log Into Your Account</h3>
      <p>Manage your saved Pokémon, quizzes, and settings.</p>
      <button type="button" onclick="location.href='login.html'">Login!</button>
    </article>
  </section>
</main>

<script>
function loadProfileIcon() {
  const username = localStorage.getItem('pokemonAppLoggedInUser ');
  const profileBtn = document.getElementById('profileBtn');

  if (!username || !profileBtn) return;

  const users = JSON.parse(localStorage.getItem('pokemonAppUsers') || '{}');
  const user = users[username];
  if (user && user.profilePic) {
    profileBtn.style.backgroundImage = `url('${user.profilePic}')`;
  } else {
    // Default avatar if no profile pic available
    profileBtn.style.backgroundImage = `url('https://cdn-icons-png.flaticon.com/512/847/847969.png')`;
  }

  profileBtn.addEventListener('click', () => {
    window.location.href = 'account.html'; // Redirect to account page
  });
}

// Run on page load
window.addEventListener('DOMContentLoaded', loadProfileIcon);
</script>
</body>
</html>
